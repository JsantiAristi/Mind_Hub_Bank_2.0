<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeBanking | User</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <link rel="stylesheet" href="../styles/accounts.css">
    <link rel="shortcut icon" href="../../assets/banco.png" type="image/x-icon">
</head>

<body>
    <div id="app">
        <header class="d-flex flex-column justify-content-between header-2">
            <nav class="navbar navbar-expand-lg bg-dark" data-bs-theme="dark">
                <div class="container">
                    <div class="d-flex align-items-center justify-content-center">
                        <img src="../../assets/insignia-del-sheriff.png" alt="" class="me-1">
                        <p class="navbar-brand fs-4 mb-0">MindHub Bank</p>
                    </div>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ms-auto">
                            <li class="nav-item">
                                <a class="nav-link active text-end" aria-current="page" href="#">My Accounts</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-end" aria-current="page" href="./cards.html">My Cards</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-end" aria-current="page" href="./transfers.html">Transfer Money</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-end text-danger" aria-current="page" href="" @click.prevent="singOut">Sign Out</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="d-flex justify-content-center align-items-end clientWelcome rounded p-3 mb-2 ms-2"
                style="--d: 0s">
                <p class="text-white text-center mb-0 fs-4">Welcome</p>
                <h2 class="text-white text-center mb-0 ps-2">{{data.firstName}}!</h2>
            </div>
        </header>
        <main class="main-2">
            <div class="container d-flex justify-content-center pt-5 pb-5">
                <div class="card text-center">
                    <div class="card-body d-flex justify-content-center align-items-center">
                        <img src="../../assets/user.jpg" alt="">
                        <div class="ps-3">
                            <p class="fw-bold fs-4">Welcome {{data.firstName}} {{data.lastName}}</p>
                            <P>Accounts : {{accounts.length}}</P>
                            <p>Balance Total : ${{totalBalance.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",")}} </p>
                            <P>Loans : {{loans.length}}</P>
                        </div>       
                    </div>
                    <div class="card-footer text-body-secondary d-flex justify-content-between align-items-center">
                        <p class="mb-0 ps-2" >{{data.emailAddress}}</p>   
                        <div class="d-flex align-items-center">
                            <p class="d-none d-sm-block mb-0 pe-1">Edit your account:</p>
                            <img src="../../assets/edit-3.svg" alt="">
                        </div>
                    </div>
            </div>
            
            </div>
            <h2 class="pagetittles p-2 fs-1">Your Accounts</h2>
            <div class="d-flex flex-wrap justify-content-center">
                <template v-for="account of data.accounts">
                    <div class="userContainer d-flex justify-content-center p-4">
                        <div class="box d-flex flex-column justify-content-between">
                            <span class="title">{{account.number}}</span>
                            <div
                                class="accountsbox2 d-flex flex-column justify-content-between align-items-center rounded">
                                <div class="pt-2">
                                    <strong class="fs-4 mb-0">Balance:</strong>
                                    <p class="fs-4">
                                        ${{account.balance.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",")}}
                                    </p>
                                    <p class="fs-6 pt-4">Creation Date:</p>
                                    <span class="fs-6">{{account.creationDate.slice(0,10)}} at </span>
                                    <span class="fs-6">{{account.creationDate.slice(11 , 16)}}</span>
                                </div>
                                <div class="mb-4 d-flex flex-column align-items-center">
                                    <p class="mb-2">Transactions</p>
                                    <a :href="'./account.html?id=' + account.id"><img src="../../assets/lupa.png" alt=""
                                            class="interactionCLient"></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </template>
            </div>
            <h3 class="text-center pb-4 mb-0 createAccountText">You want to <span class="text-success createAccountTextSpan" @click="createAccount">create</span> a new account?</h3>

            <!---------------------------- Loans --------------------------------------------------------->
            <h2 class="pagetittles p-2 mt-5 fs-1">Your Loans</h2>
            <template v-if="loans.length">
                <div class="d-flex flex-wrap justify-content-center">
                    <template v-for="loan of data.loans">
                        <div class="userContainer d-flex justify-content-center p-4">
                            <div class="box d-flex flex-column justify-content-between">
                                <span class="title text-start">{{loan.name}}</span>
                                <div class="accountsbox2 d-flex align-items-center justify-content-center rounded">
                                    <div class="ms-2">
                                        <strong class="fs-4 mb-0">Total amount:</strong>
                                        <p class="fs-4 text-center">
                                            ${{loan.amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",")}}
                                        </p>
                                        <span class="fs-6">Quotas: {{loan.payments}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </template>
            <template v-else>
                <div class="d-flex flex-column justify-content-center align-items-center">
                    <h3 class="text-center pt-5 pb-5 mb-0 notFoundMessage2">Not loans found</h3>
                </div>
            </template>
            <h3 class="text-center pb-4 mb-0">See <a href="">ours loans</a> for your future.</h3>
            <!---------------------------------- Saludo Usuario ---------------------------------------->
            <div class="notification">
                <p>Welcome back, {{data.firstName}} ðŸ˜‰</p>
                <span class="notification-progress"></span>
            </div>
            <!-- /* Modal */       -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Privacy Policy</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>
                                At MindHub Bank, we understand that the privacy and security of your personal information
                                are of utmost importance. We are committed to protecting the privacy of our customers
                                and ensuring the confidentiality of their information. This Privacy Policy outlines the
                                types of information we collect, how we use it, and how we protect it. <br>
                                <br>
                                Collection of Information <br>
                                <br>
                                We may collect personal information about you, including but not limited to your name,
                                address, social security number, phone number, email address, account numbers, and
                                financial information, when you apply for a product or service or interact with us
                                through our website or other channels. We may also collect information about your
                                transactions with us, such as account balances, payment history, and account activity. <br>
                                <br>
                                Use of Information <br>
                                <br>
                                We use the information we collect to provide you with our products and services, to
                                communicate with you about your accounts, and to comply with legal and regulatory
                                requirements. We may also use your information to improve our products and services, and
                                to offer you additional products and services that we believe may be of interest to you. <br>
                                <br>
                                Sharing of Information
                                <br>
                                We do not sell your personal information to third parties. However, we may share your
                                information with our affiliates, service providers, and regulatory authorities as
                                necessary to provide you with our products and services or to comply with legal and
                                regulatory requirements.
                                <br>
                                Security of Information <br>
                                <br>
                                We have implemented physical, technical, and administrative safeguards to protect your
                                personal information from unauthorized access, use, and disclosure. We regularly review
                                and up date our security measures to ensure the protection of your information. <br>
                                <br>
                                Your Rights <br>
                                <br>
                                You have the right to access and correct your personal information, and to request that
                                we delete your information in certain circumstances. You may also opt-out of receiving
                                marketing communications from us at any time. <br>
                                <br>
                                Changes to this Policy
                                <br>
                                We may update this Privacy Policy from time to time. The most current version of the
                                policy will always be available on our website. We encourage you to review the policy
                                periodically to stay informed about our privacy practices. <br>
                                <br>
                                Contact Us
                                <br>
                                If you have any questions or concerns about our privacy practices, please contact us at
                                274-584-59. <br>
                            </p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="bg-dark d-flex justify-content-evenly align-items-center pt-3 pb-3">
            <div class="d-flex">
                <a class="link-opacity-50-hover link-success" href="https://www.linkedin.com/in/santiago-aristizabal-restrepo-a17015221/">
                    <p class="text-white mb-0 pe-2">Santiago Aristizabal</p>
                </a>
                <p class="text-danger mb-0">Cohort 44</p>
            </div>
            <div class="bg-white p-1 rounded">
                <a href="https://www.instagram.com/santi_aristi__/" target="_blank"><img
                        src="../../assets/instagram.png" alt="" class="socialIcon me-1"></a>
                <a href="https://github.com/JsantiAristi" target="_blank"><img src="../../assets/github (1).png" alt=""
                        class="socialIcon"></a>
            </div>
        </footer>
    </div>

    <!-- CDN bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="../js/accounts.js"></script>
</body>

</html>